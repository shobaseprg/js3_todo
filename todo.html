<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ToDo問題</title>
  </head>
  <body>
    <h1>ToDo問題</h1>
    <input type="radio" name="q1" value="すべて">全て
    <input type="radio" name="q1" value="作業中">作業中
    <input type="radio" name="q1" value="いいえ">完了
    <table id = "targetTable">
      <tr>
        <th>ID</th>
        <th>コメント</th>
        <th>状態</th>
      </tr>
    </table>
<h2>新規タスクの追加</h2>
<div>
  <input type="text" id="form" size="21">
  <input type="button" id ="addition" value="追加">
</div>
  <script>
    let i = 0;
    let hash = {};
    document.getElementById("addition").addEventListener("click", () => {
      if (document.getElementById("form").value) {  // フォームが空欄でなかった場合
        let table = document.getElementById("targetTable");
        let newRow = table.insertRow();   // 空行を作成
        let idCell = newRow.insertCell();   // 空セルを作成
        let id = document.createTextNode(i);
        idCell.appendChild(id);

        let commentCell = newRow.insertCell();
        let comment = document.createTextNode(document.getElementById("form").value);
        commentCell.appendChild(comment);

        let btnCell = newRow.insertCell();
        let statusBtn = document.createElement("input");
        statusBtn.type = "button";
        statusBtn.id = "statusBtn_" + i;
        statusBtn.value = "作業中"
        btnCell.appendChild(statusBtn);

        let deleteBtn = document.createElement("input");
        deleteBtn.type = "button";
        deleteBtn.id = "deleteBtn_" + i;
        deleteBtn.value = "削除"
        btnCell.appendChild(deleteBtn);

        hash[i] = comment;  // タスクをidをkey, コメントをvalueで連想配列化
        console.log(hash);

        document.getElementById("form").value = "";  // フォームを空にする
        i ++;
      }
    });
    </script>
  </body>
</html>